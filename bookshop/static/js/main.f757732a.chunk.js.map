{"version":3,"sources":["components/book-list-item/index.js","components/book-list-item/book-list-item.js","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.js","components/spinner/index.js","components/spinner/spinner.js","components/book-list/book-list.js","actions/index.js","components/book-list/index.js","utils/compose.js","components/shopping-cart-table/shopping-cart-table.js","components/pages/home-page.js","components/pages/cart-page.js","components/shop-header/shop-header.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/bookstore-service.js","reducers/index.js","store.js","index.js"],"names":["BookListItem","book","title","author","price","coverImage","className","src","alt","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreService","Wrapped","props","bookstoreService","Spinner","BookList","this","booksLoaded","booksRequested","getBooks","then","data","books","loading","map","key","id","Component","mapDispatchToProps","newBooks","type","payload","funcs","comp","reduceRight","wrapped","f","compose","connect","ShoppingCartTable","HomePage","CartPage","ShopHeader","numItems","total","to","href","App","role","path","component","exact","ErrorIndicator","ErrorBoundry","state","hasError","setState","children","BookstoreService","Promise","resolve","setTimeout","initialState","reducer","action","error","store","createStore","ReactDOM","render","value","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.f757732a.chunk.js","sourcesContent":["import BookListItem from './book-list-item';\n\nexport default BookListItem;\n","import React from 'react';\nimport './book-list-item.css';\n\nconst BookListItem = ({ book }) => {\n  const {\n    title,\n    author,\n    price,\n    coverImage,\n  } = book;\n  return (\n    <div className=\"book-list-item\">\n      <div className=\"book-cover\">\n        <img src={coverImage} alt=\"cover\" />\n      </div>\n      <div className=\"book-details\">\n        <span className=\"book-title\">{title}</span>\n        <div className=\"book-author\">{author}</div>\n        <div className=\"book-price\">{price}</div>\n        <button className=\"btn btn-info add-to-cart\">Add to cart</button>\n      </div>\n    </div>\n  );\n};\n\nexport default BookListItem;\n","import React from 'react';\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer,\n} = React.createContext();\n\nexport {\n  BookstoreServiceProvider,\n  BookstoreServiceConsumer,\n};\n","import React from 'react';\nimport { BookstoreServiceConsumer } from '../bookstore-service-context';\n\nconst withBookstoreService = () => (Wrapped) => {\n  return (props) => {\n    return (\n      <BookstoreServiceConsumer>\n        {\n          (bookstoreService) => {\n            return (<Wrapped {...props}\n                     bookstoreService={bookstoreService}/>);\n          }\n        }\n      </BookstoreServiceConsumer>\n    );\n  };\n};\n\nexport default withBookstoreService;\n","import Spinner from './spinner';\n\nexport default Spinner;\n","import React from 'react';\nimport './spinner.css';\n\nconst Spinner = () => {\n  return <div>loading...</div>;\n};\n\nexport default Spinner;\n","/* eslint-disable no-shadow */\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport BookListItem from '../book-list-item';\n\nimport { withBookstoreService } from '../hoc';\nimport { booksLoaded, booksRequested } from '../../actions';\nimport { compose } from '../../utils';\nimport Spinner from '../spinner';\n\nimport './book-list.css';\n\nclass BookList extends Component {\n  componentDidMount() {\n    const {\n      bookstoreService,\n      booksLoaded,\n      booksRequested,\n    } = this.props;\n\n    booksRequested();\n    bookstoreService.getBooks()\n      .then((data) => booksLoaded(data));\n  }\n\n  render() {\n    const { books, loading } = this.props;\n\n    if (loading) {\n      return <Spinner/>;\n    }\n\n    return (\n      <ul className=\"book-list\">\n        {books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem book={book} />\n            </li>\n          );\n        })}\n      </ul>\n    );\n  }\n}\n\nconst mapStateToProps = ({ books, loading }) => {\n  return { books, loading };\n};\n\nconst mapDispatchToProps = {\n  booksLoaded,\n  booksRequested,\n};\n\nexport default compose(\n  withBookstoreService(),\n  connect(mapStateToProps, mapDispatchToProps),\n)(BookList);\n","const booksLoaded = (newBooks) => {\n  return {\n    type: 'BOOKS_LOADED',\n    payload: newBooks,\n  };\n};\n\nconst booksRequested = () => {\n  return {\n    type: 'BOOKS_REQUESTED',\n  };\n};\n\nexport {\n  booksLoaded,\n  booksRequested,\n};\n","import BookList from './book-list';\n\nexport default BookList;\n","const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight(\n    (wrapped, f) => f(wrapped), comp,\n  );\n};\n\nexport { compose };\n","import React from 'react';\nimport './shopping-cart-table.css';\n\nconst ShoppingCartTable = () => {\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Item</th>\n            <th>Count</th>\n            <th>Price</th>\n            <th>Action</th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr>\n            <td>1</td>\n            <td>Site Reliability Engineering</td>\n            <td>2</td>\n            <td>$40</td>\n            <td>\n              <button className=\"btn btn-outline-danger btn-sm float-right\">\n                <i className=\"fa fa-trash-o\" />\n              </button>\n              <button className=\"btn btn-outline-success btn-sm float-right\">\n                <i className=\"fa fa-plus-circle\" />\n              </button>\n              <button className=\"btn btn-outline-warning btn-sm float-right\">\n                <i className=\"fa fa-minus-circle\" />\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div className=\"total\">\n        Total: $201\n      </div>\n    </div>\n  );\n};\n\nexport {\n  ShoppingCartTable,\n};\n","import React from 'react';\nimport BookList from '../book-list';\nimport { ShoppingCartTable } from '../shopping-cart-table';\n\nconst HomePage = () => {\n  return (\n    <div>\n      <BookList />\n      <ShoppingCartTable />\n    </div>\n  );\n};\n\nexport default HomePage;\n","import React from 'react';\n\nconst CartPage = () => {\n  return <div>Cart Page</div>;\n};\n\nexport default CartPage;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport './shop-header.css';\n\nconst ShopHeader = ({ numItems, total }) => {\n  return (\n    <header className=\"shop-header row\">\n      <Link to=\"/\">\n        <div className=\"logo text-dark\">Bookshop</div>\n      </Link>\n      <Link to=\"/cart\">\n        <div className=\"shopping-cart\" href=\"#\">\n          <i className=\"cart-icon fa fa-shopping-cart\" />\n          {numItems} items (${total})\n        </div>\n      </Link>\n    </header>\n  );\n};\n\nexport {\n  ShopHeader,\n};\n","import App from './app';\n\nexport default App;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { HomePage, CartPage } from '../pages';\nimport { ShopHeader } from '../shop-header';\n\nimport './app.css';\n\nconst App = () => {\n  return (\n    <main role=\"main\" className=\"container\">\n      <ShopHeader numItems={5} total={210}/>\n      <Switch>\n        <Route path=\"/\" component={HomePage} exact />\n\n        <Route path=\"/cart\" component={CartPage} />\n      </Switch>\n    </main>\n  );\n};\n\nexport default App;\n","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;\n","import React from 'react';\nimport './error-indicator.css';\n\nconst ErrorIndicator = () => {\n  return <div>Error!</div>;\n};\n\nexport default ErrorIndicator;\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","import React, { Component } from 'react';\nimport ErrorIndicator from '../error-indicator';\n\nexport default class ErrorBoundry extends Component {\n  state = {\n    hasError: false,\n  };\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />;\n    }\n\n    return this.props.children;\n  }\n}\n","/* eslint-disable class-methods-use-this */\nexport default class BookstoreService {\n  data = [\n    {\n      id: 1,\n      title: 'Production-Ready Microservices',\n      author: 'Susan J. Fowler',\n      price: 32,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg',\n    },\n    {\n      id: 2,\n      title: 'Release It!',\n      author: 'Michael T. Nygard',\n      price: 45,\n      coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg',\n    },\n  ];\n\n  getBooks() {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(this.data);\n      }, 700);\n    });\n  }\n}\n","const initialState = {\n  books: [],\n  loading: true,\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'BOOKS_REQUESTED':\n      return {\n        books: [],\n        loading: true,\n        error: null,\n      };\n\n    case 'BOOKS_LOADED':\n      return {\n        books: action.payload,\n        loading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { createStore } from 'redux';\n\nimport reducer from './reducers';\n\nconst store = createStore(reducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport BookstoreService from './services/bookstore-service';\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nimport store from './store';\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <BookstoreServiceProvider value={bookstoreService}>\n        <Router basename={process.env.PUBLIC_URL}>\n          <App />\n        </Router>\n      </BookstoreServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}